---
phase: 03-docs-and-llm-accessibility
plan: 03
type: execute
wave: 2
depends_on: ['03-01', '03-02']
files_modified:
  - AGENTS.md
  - CONTRIBUTING.md
  - llms.txt
  - package.json
autonomous: true

must_haves:
  truths:
    - 'AGENTS.md contains only AI-operational rules — zero narrative prose, only commands, conventions, file locations, and prohibitions'
    - 'CONTRIBUTING.md links to real docs/contributor/ paths and a contributor can clone, install, run tests within 15 minutes'
    - 'llms.txt at the repo root indexes 8-12 files following the llmstxt.org specification'
    - 'PRD.md no longer exists in the repository'
    - 'package.json has bugs.url and homepage fields'
  artifacts:
    - path: 'AGENTS.md'
      provides: 'AI-ops-only rules for coding agents'
      contains: 'npm run build'
    - path: 'CONTRIBUTING.md'
      provides: 'Contributor hub with links to docs/'
      contains: 'docs/contributor/'
    - path: 'llms.txt'
      provides: 'AI-readable project index following llmstxt.org spec'
      contains: '## Docs'
    - path: 'package.json'
      provides: 'npm metadata with bugs and homepage'
      contains: 'bugs'
  key_links:
    - from: 'CONTRIBUTING.md'
      to: 'docs/contributor/architecture.md'
      via: 'hyperlink'
      pattern: "docs/contributor/architecture\\.md"
    - from: 'CONTRIBUTING.md'
      to: 'docs/contributor/development.md'
      via: 'hyperlink'
      pattern: "docs/contributor/development\\.md"
    - from: 'llms.txt'
      to: 'docs/user/getting-started.md'
      via: 'bullet-linked resource'
      pattern: "docs/user/getting-started\\.md"
    - from: 'llms.txt'
      to: 'docs/contributor/architecture.md'
      via: 'bullet-linked resource'
      pattern: "docs/contributor/architecture\\.md"
---

<objective>
Restructure AGENTS.md to AI-ops-only format, create CONTRIBUTING.md as a navigation hub, create llms.txt following the community specification, update package.json metadata, and delete PRD.md.

Purpose: Complete the content distillation — AGENTS.md serves AI agents, CONTRIBUTING.md orients human contributors, llms.txt indexes all documentation for AI assistants, and PRD.md is retired. Satisfies Phase 3 success criteria #3, #4, and #5.
Output: Restructured AGENTS.md, new CONTRIBUTING.md, new llms.txt, updated package.json, deleted PRD.md
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-docs-and-llm-accessibility/03-CONTEXT.md
@.planning/phases/03-docs-and-llm-accessibility/03-RESEARCH.md
@.planning/phases/03-docs-and-llm-accessibility/03-01-SUMMARY.md
@.planning/phases/03-docs-and-llm-accessibility/03-02-SUMMARY.md
@AGENTS.md
@PRD.md
@package.json
@README.md
@docs/user/getting-started.md
@docs/user/configuration.md
@docs/user/providers.md
@docs/user/output-documents.md
@docs/contributor/architecture.md
@docs/contributor/development.md
@docs/contributor/adding-providers.md
@docs/contributor/adding-analyzers.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restructure AGENTS.md and create CONTRIBUTING.md</name>
  <files>AGENTS.md, CONTRIBUTING.md</files>
  <action>
**AGENTS.md restructure:** Read the current AGENTS.md. Strip ALL narrative prose, design rationale, and explanatory context. Keep ONLY machine-actionable content. The result should be pure AI-ops (locked decision: zero narrative, pure machine-readable rules).

Keep (from current AGENTS.md):

- Commands section (npm run dev, build, typecheck, test, lint, lint:fix, format, format:check) — update to include lint/format commands added in Phase 2
- File naming conventions (kebab-case.ts, render-NN-name.ts, round-N-name.ts, \*.test.ts)
- Import conventions (.js extension, import type)
- Code style rules (no semicolons, single quotes, 2-space indent, trailing commas, section separators)
- Directory map (src/ tree with one-liner descriptions)
- "What NOT to do" prohibitions — update to remove the "Do not add ESLint/Prettier" line since they were added in Phase 2
- Commit message format (conventional commits)

Remove (moved to docs/contributor/):

- "Project overview" section — narrative about what handover does → now in docs/contributor/architecture.md
- "Key patterns" section — Zod-first, Template Method, Config+Factory, Renderers, Error handling, DAG explanations → now in docs/contributor/architecture.md
- "Architecture" section prose — the explanation of what each directory does beyond the one-liner → now in docs/contributor/architecture.md

Target: AGENTS.md should be 40-70 lines of pure rules (per research pitfall #2: don't over-strip below ~40 lines). Test by asking: "Could a coding agent, reading ONLY this file, make a correct code change?"

Structure of new AGENTS.md:

```
# AGENTS.md

## Commands
[all build/test/lint commands with exact flags]

## File conventions
[naming rules, import rules, code style rules]

## Where things live
[src/ directory tree — one-liner per directory]

## Commit messages
[conventional commit format]

## Rules
[all prohibitions as bullet list]
```

**CONTRIBUTING.md:** Create as a navigation hub (locked decision: short quick-start plus links to docs/contributor/). Structure per research Pattern 3:

1. H1 "Contributing to handover"
2. One-paragraph project description and why contributions matter
3. H2 "Prerequisites" — Node >= 18, an LLM API key (for integration tests)
4. H2 "Quick start" — 4 commands: git clone, cd handover, npm install, npm run build. Then: `npm test` (unit tests), `HANDOVER_INTEGRATION=1 npm test` (integration tests, requires API key)
5. H2 "Guides" — bulleted links to all 4 docs/contributor/ files with one-liner descriptions
6. H2 "Finding work" — point to `good first issue` labels in GitHub Issues. Submit PRs against `main`. Link to conventional commits.
7. Keep it SHORT — the single source of truth lives in docs/contributor/, not here
   </action>
   <verify>

- AGENTS.md exists and is 40-70 lines
- AGENTS.md contains NO narrative prose (no "handover is a CLI tool that...", no "this pattern allows...")
- AGENTS.md contains all commands including lint/format from Phase 2
- AGENTS.md "What NOT to do" does NOT say "Do not add ESLint/Prettier"
- CONTRIBUTING.md exists and links to all 4 docs/contributor/ files
- CONTRIBUTING.md quick-start has exactly 4 setup commands
  </verify>
  <done>AGENTS.md is pure AI-ops rules (40-70 lines, zero narrative); CONTRIBUTING.md is a hub linking to docs/contributor/ with a 4-command quick-start</done>
  </task>

<task type="auto">
  <name>Task 2: Create llms.txt, update package.json, delete PRD.md</name>
  <files>llms.txt, package.json, PRD.md</files>
  <action>
**llms.txt:** Create at repo root following the llmstxt.org specification (locked decisions: usage-first priority, follow spec, no llms-full.txt, 8-12 entries). Use the draft from research as starting point but verify all file paths exist (they were created in 03-01 and 03-02).

Structure:

```markdown
# handover

> [one-paragraph summary: CLI tool, static analysis, LLM rounds, 14 documents, 8 providers, single npx command]

[Optional: one additional line about language-agnostic, cross-referenced markdown output]

## Docs

- [Getting started](docs/user/getting-started.md): Install and generate your first knowledge base
- [Configuration reference](docs/user/configuration.md): All config options with defaults and valid values
- [Providers](docs/user/providers.md): Supported LLM providers and comparison
- [Output documents](docs/user/output-documents.md): The 14 documents handover generates

## Contributing

- [Architecture](docs/contributor/architecture.md): How a handover run flows from CLI entry to output
- [Development](docs/contributor/development.md): Local dev workflow from clone to PR
- [Adding a provider](docs/contributor/adding-providers.md): Step-by-step provider implementation guide
- [Adding an analyzer](docs/contributor/adding-analyzers.md): Step-by-step analyzer implementation guide

## Optional

- [README](README.md): Project overview, quick start, and feature summary
- [CONTRIBUTING](CONTRIBUTING.md): Contributor quick-start and navigation
- [AGENTS.md](AGENTS.md): AI-operational rules for coding agents
```

That's 11 entries — within the 8-12 target. Entry format: `- [Name](path): one-liner description` (per spec). No H3 headings in file lists. "Optional" H2 has semantic meaning per spec — content there may be skipped by LLMs needing shorter context.

Discretion choice: title + one-liner per entry (not paragraph summaries) — keeps file under 30 lines, AI tools use descriptions to decide whether to follow links.

**package.json:** Add two fields (per research Pattern 4 and requirement DOCS-06):

```json
"bugs": {
  "url": "https://github.com/farce1/handover/issues"
},
"homepage": "https://github.com/farce1/handover#readme"
```

Add these after the existing "license" field. Do NOT change any other package.json content.

**PRD.md deletion:** Delete PRD.md from the repository. This is the locked decision: "PRD.md gets deleted after distillation — content lives in docs/ now." By this point, docs/user/ and docs/contributor/ have been created (plans 03-01 and 03-02), so the distillation is complete.

Run: `git rm PRD.md`
</action>
<verify>

- llms.txt exists at repo root: `ls llms.txt`
- llms.txt has H1 "handover", blockquote summary, H2 Docs, H2 Contributing, H2 Optional
- llms.txt entry count is 8-12 (count lines starting with "- [")
- All file paths in llms.txt entries exist: verify each path
- package.json contains "bugs" and "homepage" fields
- package.json is valid JSON: `node -e "require('./package.json')"`
- PRD.md does NOT exist: `test ! -f PRD.md`
  </verify>
  <done>llms.txt indexes 11 files following llmstxt.org spec; package.json has bugs.url and homepage; PRD.md is deleted from the repository</done>
  </task>

</tasks>

<verification>
1. AGENTS.md is 40-70 lines of pure AI-ops rules with zero narrative
2. AGENTS.md includes updated commands (lint, format from Phase 2) and corrected prohibitions
3. CONTRIBUTING.md links to all 4 docs/contributor/ files and has a 4-command quick-start
4. llms.txt follows llmstxt.org spec: H1, blockquote, H2 sections with bullet-linked resources
5. llms.txt has 11 entries (within 8-12 target), all paths valid
6. package.json has bugs.url and homepage fields and is valid JSON
7. PRD.md no longer exists in the working tree
8. No other files modified beyond the 4 listed in files_modified (plus PRD.md deletion)
</verification>

<success_criteria>

- An AI coding agent reading AGENTS.md finds commands, conventions, file locations, and rules — no narrative to parse
- A human contributor reading CONTRIBUTING.md can clone, install, build, and find guides within minutes
- An AI assistant reading llms.txt gets a curated index of 11 documentation files covering usage, contribution, and project context
- PRD.md content lives in docs/ — the original file is gone
- npm package metadata includes bugs URL and homepage
  </success_criteria>

<output>
After completion, create `.planning/phases/03-docs-and-llm-accessibility/03-03-SUMMARY.md`
</output>
