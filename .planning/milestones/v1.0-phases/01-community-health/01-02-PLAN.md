---
phase: 01-community-health
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .github/ISSUE_TEMPLATE/bug.yml
  - .github/ISSUE_TEMPLATE/feature.yml
  - .github/ISSUE_TEMPLATE/docs.yml
  - .github/ISSUE_TEMPLATE/config.yml
  - .github/pull_request_template.md
autonomous: true

must_haves:
  truths:
    - 'Filing a bug report presents a structured YAML form with required fields: steps to reproduce, expected vs actual behavior, version, OS/environment'
    - 'Filing a feature request presents a structured YAML form with problem/motivation and proposed solution'
    - "Filing a docs improvement issue presents a structured YAML form with location and what's wrong"
    - 'Blank issues are disabled — all issues must use a template'
    - 'Submitting a PR auto-populates a checklist covering tests, changelog, docs, and commit format'
    - 'Each issue template auto-assigns its label (bug, enhancement, documentation)'
  artifacts:
    - path: '.github/ISSUE_TEMPLATE/bug.yml'
      provides: 'Bug report form with structured fields'
      contains: 'labels: ["bug"]'
    - path: '.github/ISSUE_TEMPLATE/feature.yml'
      provides: 'Feature request form with structured fields'
      contains: 'labels: ["enhancement"]'
    - path: '.github/ISSUE_TEMPLATE/docs.yml'
      provides: 'Documentation improvement form with structured fields'
      contains: 'labels: ["documentation"]'
    - path: '.github/ISSUE_TEMPLATE/config.yml'
      provides: 'Template chooser config disabling blank issues'
      contains: 'blank_issues_enabled: false'
    - path: '.github/pull_request_template.md'
      provides: 'PR body template with checklist'
      contains: 'Checklist'
  key_links:
    - from: '.github/ISSUE_TEMPLATE/bug.yml'
      to: 'GitHub labels'
      via: "labels field auto-applies 'bug' label"
      pattern: 'labels.*bug'
    - from: '.github/ISSUE_TEMPLATE/feature.yml'
      to: 'GitHub labels'
      via: "labels field auto-applies 'enhancement' label"
      pattern: 'labels.*enhancement'
    - from: '.github/ISSUE_TEMPLATE/docs.yml'
      to: 'GitHub labels'
      via: "labels field auto-applies 'documentation' label"
      pattern: 'labels.*documentation'
    - from: '.github/ISSUE_TEMPLATE/config.yml'
      to: 'GitHub Discussions'
      via: 'contact_links redirects non-template issues to discussions'
      pattern: 'discussions'
---

<objective>
Create all GitHub issue templates (bug report, feature request, docs improvement), the template chooser config that disables blank issues, and the pull request template.

Purpose: Structured issue forms ensure bug reports contain reproduction steps and environment info, feature requests articulate the problem and solution, and docs issues point to specific pages. The PR template surfaces a quality checklist automatically. Disabling blank issues forces contributors to use templates, improving issue quality.

Output: Five files — three YAML issue form templates, one config.yml, and one PR template markdown file.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-community-health/01-RESEARCH.md
@.planning/phases/01-community-health/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create issue templates and config</name>
  <files>.github/ISSUE_TEMPLATE/bug.yml, .github/ISSUE_TEMPLATE/feature.yml, .github/ISSUE_TEMPLATE/docs.yml, .github/ISSUE_TEMPLATE/config.yml</files>
  <action>
Create the `.github/ISSUE_TEMPLATE/` directory and all four files. Use `.yml` extension (not `.yaml` — GitHub requires `.yml` for issue form templates).

**bug.yml** — Per locked decisions (required: steps to reproduce, expected vs actual, version, OS/environment; optional: screenshots, logs; auto-label: bug):

```yaml
name: Bug Report
description: File a bug report to help us improve
title: '[Bug]: '
labels: ['bug']
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to fill out this bug report!
  - type: textarea
    id: steps
    attributes:
      label: Steps to Reproduce
      description: How do you trigger this bug?
      placeholder: "1. Run `npx handover-cli generate`\n2. ...\n3. See error"
    validations:
      required: true
  - type: textarea
    id: expected
    attributes:
      label: Expected Behavior
      description: What did you expect to happen?
    validations:
      required: true
  - type: textarea
    id: actual
    attributes:
      label: Actual Behavior
      description: What actually happened?
    validations:
      required: true
  - type: input
    id: version
    attributes:
      label: handover-cli Version
      placeholder: 'e.g. 0.1.0 (run `npx handover-cli --version`)'
    validations:
      required: true
  - type: dropdown
    id: os
    attributes:
      label: Operating System
      options:
        - macOS
        - Linux
        - Windows
    validations:
      required: true
  - type: input
    id: node-version
    attributes:
      label: Node.js Version
      placeholder: 'e.g. 20.10.0 (run `node --version`)'
    validations:
      required: true
  - type: textarea
    id: logs
    attributes:
      label: Relevant Logs or Screenshots (optional)
      description: Paste any error output or attach screenshots
      render: shell
  - type: checkboxes
    id: existing-issues
    attributes:
      label: Checks
      options:
        - label: I have searched existing issues and this is not a duplicate
          required: true
```

**feature.yml** — Per locked decisions (auto-label: enhancement). Claude's Discretion for field design:

```yaml
name: Feature Request
description: Suggest an idea or enhancement for handover-cli
title: '[Feature]: '
labels: ['enhancement']
body:
  - type: markdown
    attributes:
      value: |
        Thanks for your suggestion! Please fill out the details below.
  - type: textarea
    id: problem
    attributes:
      label: Problem or Motivation
      description: Is your feature request related to a problem? Describe it.
      placeholder: I'm always frustrated when...
    validations:
      required: true
  - type: textarea
    id: solution
    attributes:
      label: Proposed Solution
      description: Describe the solution you'd like
    validations:
      required: true
  - type: textarea
    id: alternatives
    attributes:
      label: Alternatives Considered
      description: Any alternative solutions or workarounds you've considered?
  - type: textarea
    id: context
    attributes:
      label: Additional Context
      description: Add any other context, screenshots, or examples
  - type: checkboxes
    id: existing-issues
    attributes:
      label: Checks
      options:
        - label: I have searched existing issues and this is not a duplicate
          required: true
```

**docs.yml** — Per locked decisions (auto-label: documentation). Claude's Discretion for field design:

```yaml
name: Documentation Improvement
description: Report missing, incorrect, or unclear documentation
title: '[Docs]: '
labels: ['documentation']
body:
  - type: markdown
    attributes:
      value: |
        Help us improve our documentation!
  - type: input
    id: location
    attributes:
      label: Documentation Location
      description: Which file or page needs improvement?
      placeholder: 'e.g. README.md, CONTRIBUTING.md, --help output'
    validations:
      required: true
  - type: textarea
    id: problem
    attributes:
      label: What's Wrong or Missing
      description: What is incorrect, unclear, or missing?
    validations:
      required: true
  - type: textarea
    id: suggestion
    attributes:
      label: Suggested Improvement
      description: What should it say instead?
  - type: checkboxes
    id: existing-issues
    attributes:
      label: Checks
      options:
        - label: I have searched existing issues and this is not a duplicate
          required: true
```

**config.yml** — Per locked decision: blank issues disabled, link to discussions:

```yaml
blank_issues_enabled: false
contact_links:
  - name: GitHub Discussions
    url: https://github.com/farce1/handover/discussions
    about: Ask a question or share an idea — not a bug or feature request
```

**Important:** All YAML content must be valid. Use consistent 2-space indentation. Every non-markdown field must have an `id` attribute. Ensure `validations.required: true` on all required fields per locked decisions.

**Labels:** The templates reference labels `bug`, `enhancement`, and `documentation`. GitHub creates `bug` and `enhancement` by default for new repos. The `documentation` label may need to be created. Use the GitHub CLI to ensure all three labels exist:

```bash
gh label create "documentation" --description "Improvements or additions to documentation" --color "0075ca" --force 2>/dev/null || true
gh label list | grep -E "bug|enhancement|documentation"
```

The `--force` flag on `gh label create` will update the label if it already exists, and silently succeed if it already matches. Run this before committing the templates.
</action>
<verify>
Verify all four files exist and have correct structure:

- `ls .github/ISSUE_TEMPLATE/` — should show bug.yml, feature.yml, docs.yml, config.yml
- `cat .github/ISSUE_TEMPLATE/bug.yml | grep "labels"` — should show `["bug"]`
- `cat .github/ISSUE_TEMPLATE/feature.yml | grep "labels"` — should show `["enhancement"]`
- `cat .github/ISSUE_TEMPLATE/docs.yml | grep "labels"` — should show `["documentation"]`
- `cat .github/ISSUE_TEMPLATE/config.yml | grep "blank_issues_enabled"` — should show `false`
- Validate YAML syntax: `node -e "const fs=require('fs'); const yaml=require('yaml'); ['bug','feature','docs','config'].forEach(f => { yaml.parse(fs.readFileSync('.github/ISSUE_TEMPLATE/'+f+'.yml','utf8')); console.log(f+'.yml: valid') })"` (uses the `yaml` package already in project dependencies)
  </verify>
  <done>
  Four issue template files exist in `.github/ISSUE_TEMPLATE/`: bug.yml (structured bug report form with steps, expected/actual, version, OS, node version, optional logs — auto-labels `bug`), feature.yml (feature request with problem/solution — auto-labels `enhancement`), docs.yml (docs improvement with location and problem — auto-labels `documentation`), config.yml (blank issues disabled, links to discussions). All three required labels verified to exist in the repo. YAML syntax validated.
  </done>
  </task>

<task type="auto">
  <name>Task 2: Create PR template</name>
  <files>.github/pull_request_template.md</files>
  <action>
Create `.github/pull_request_template.md` (lowercase filename — per research pitfall 5).

Per Claude's Discretion for PR template checklist items and formatting. Structure:

```markdown
## Summary

<!-- Briefly describe what this PR does and why -->

Closes #

## Type of Change

- [ ] `feat`: New feature
- [ ] `fix`: Bug fix
- [ ] `docs`: Documentation update
- [ ] `chore`: Maintenance, refactoring, or tooling

## Checklist

- [ ] My code follows the project's coding style
- [ ] I have run `npm test` and all tests pass
- [ ] I have run `npm run typecheck` and there are no type errors
- [ ] I have updated documentation if behavior has changed
- [ ] I have added a changelog entry if this is a user-facing change
- [ ] My commit messages follow [Conventional Commits](https://www.conventionalcommits.org/) format

## Testing Notes

<!-- How was this tested? Any specific scenarios to verify? -->
```

The template should:

- Use HTML comments for instructions (they don't render in the PR body)
- Include `Closes #` for issue linking
- Have Type of Change checkboxes matching Conventional Commits types
- Have a comprehensive Checklist covering tests, typecheck, docs, changelog, and commit format
- Have a Testing Notes section for reviewers
  </action>
  <verify>
  Verify the file exists and contains key elements:
- `cat .github/pull_request_template.md | grep "Checklist"` — must match
- `cat .github/pull_request_template.md | grep "npm test"` — must match
- `cat .github/pull_request_template.md | grep "npm run typecheck"` — must match
- `cat .github/pull_request_template.md | grep "Conventional Commits"` — must match
  </verify>
  <done>
  PR template exists at `.github/pull_request_template.md` with Summary, Type of Change, Checklist (tests, typecheck, docs, changelog, commit format), and Testing Notes sections. Auto-populates when opening a new PR.
  </done>
  </task>

</tasks>

<verification>
After both tasks complete:
1. `.github/ISSUE_TEMPLATE/` directory exists with four files: bug.yml, feature.yml, docs.yml, config.yml
2. `.github/pull_request_template.md` exists
3. All three issue templates use YAML form syntax (not markdown)
4. All three issue templates have `labels` field for auto-labeling
5. Bug report has all required fields: steps, expected, actual, version, OS
6. config.yml has `blank_issues_enabled: false`
7. PR template has checklist with test, typecheck, docs, changelog, and commit format items
8. All three labels (bug, enhancement, documentation) exist in the repo
</verification>

<success_criteria>

- Three YAML issue form templates exist with structured fields and auto-labeling
- Blank issues disabled via config.yml with link to discussions
- PR template auto-populates with quality checklist
- Requirements covered: COMM-02, COMM-03, COMM-04, COMM-05, COMM-06
  </success_criteria>

<output>
After completion, create `.planning/phases/01-community-health/01-02-SUMMARY.md`
</output>
